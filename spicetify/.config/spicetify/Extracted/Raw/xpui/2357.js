"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2357],{22357:(e,t,a)=>{a.r(t),a.d(t,{SNACKBAR_ID:()=>S,default:()=>w});var i=a(59496),r=a(72710),n=a(55033),o=a(24612),s=a(63840),c=(a(99692),a(23076)),l=a(90705),d=a(94),u=a(63961);const f="dRD7dgAMZVRuTdelaf6B",g="sFr9SHK1H3ZYdz2_jWqY",m="AckhtqapSIpyTPpQGw7y";var h=a(4637);const b="dialog-robot";const p=()=>{const[e,t]=(0,i.useState)(!0);return e?(0,h.jsx)(l.l,{"data-testid":b,id:b,"aria-label":"Dialog robot",dialogTitle:s.ag.get("user-fraud-verification.dialog-alert.title"),colorSet:"invertedLight",className:f,body:(0,h.jsx)(d.D,{as:"p",children:(a=s.ag.get("user-fraud-verification.dialog-alert.describe"),r=e=>(0,h.jsx)(c.rU,{to:"/playlist/37i9dQZF1DWUcRrhkfhG22",className:g,children:e},e),a.split(/(\{0\}.*)\{1\}/).map((e=>e.startsWith("{0}")?r(e.split("{0}")[1]):e)))}),footer:(0,h.jsx)(u.D,{className:m,onClick:()=>t(!1),children:s.ag.get("user-fraud-verification.dialog-alert.ok")})}):null;var a,r};var v=a(9102),_=a(7617),I=a(52271),T=a(27339),k=a(64796),x=a(42370);var y=a(40879),N=a(43361);const S="snackbar-user-fraud-verification",w=({verificationId:e})=>{const t=(0,i.useRef)(Date.now()),[a,c]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1),[u,f]=(0,i.useState)(!1),g=(0,x.s4)(),m=(()=>{const e=(0,x.s4)(),{mutate:t}=(0,v.useMutation)({mutationFn:e=>{const t=I.b.getInstance();return(0,T.h)(t,e)},onError:(t,a)=>{e.send((0,_.b)({id:a,method:"IN_APP_VERIFICATION_V0",error_message:t instanceof k.m?t.message:null,http_method:"put",http_path:`/verification/${a}`}))}});return t})(),{isTrustedRef:b,isTrustedFn:w}=(0,N.L)(),A=async(a,i)=>{const r=Date.now()-t.current,{type:n}=i;await w(i),g.send((0,o.h)({id:e,method:"IN_APP_VERIFICATION_V0",action:a,interaction_details:{reaction_time:`${r}`,event_triggered:JSON.stringify({type:n,isTrusted:b.current})}})),e&&m(e)};return l?null:u?(0,h.jsx)(p,{}):a?(0,h.jsx)(r.A9,{"data-testid":S,className:(0,n.Mg)("announcement"),showSnackbar:!0,children:s.ag.get("user-fraud-verification.snackbar.message")}):(0,h.jsx)(y.Q,{"aria-label":s.ag.get("user-fraud-verification.confirm-dialog.title"),titleText:s.ag.get("user-fraud-verification.confirm-dialog.title"),descriptionText:s.ag.get("user-fraud-verification.confirm-dialog.description"),onConfirm:e=>{A("human",e),c(!0)},onClose:e=>{A("robot",e),f(!0)},onOutside:e=>{A("robot",e),d(!0)},confirmText:s.ag.get("user-fraud-verification.confirm-dialog.confirm"),confirmLabel:s.ag.get("user-fraud-verification.confirm-dialog.label"),cancelText:s.ag.get("user-fraud-verification.confirm-dialog.cancel")})}}}]);
//# sourceMappingURL=2357.js.map